{
  "Resources": {
    "Instance": {
      "Type": "AWS::EC2::Instance",
      "Properties": {
        "ImageId": "ami-0ca02df89a1b7b1e5",
        "InstanceType": "t3.small",
        "UserData": "IyEvYmluL2Jhc2gKClVOSVhfVVNFUj0iZWMyLXVzZXIiClVOSVhfVVNFUl9IT01FPSIvaG9tZS9lYzItdXNlciIKRU5WSVJPTk1FTlRfUEFUSD0iL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiClVOSVhfR1JPVVA9JChpZCAtZyAtbiAiJFVOSVhfVVNFUiIpCgojIGFkZCBTU0gga2V5Cmluc3RhbGwgLWcgIiRVTklYX0dST1VQIiAtbyAiJFVOSVhfVVNFUiIgLW0gNzU1IC1kICIkVU5JWF9VU0VSX0hPTUUiLy5zc2gKY2F0IDw8J0VPRicgPj4gIiRVTklYX1VTRVJfSE9NRSIvLnNzaC9hdXRob3JpemVkX2tleXMKIyBJbXBvcnRhbnQKIyAtLS0tLS0tLS0KIyBUaGUgZm9sbG93aW5nIHB1YmxpYyBrZXkgaXMgcmVxdWlyZWQgYnkgQ2xvdWQ5IElERQojIFJlbW92aW5nIHRoaXMga2V5IHdpbGwgbWFrZSB0aGlzIEVDMiBpbnN0YW5jZSBpbmFjY2Vzc2libGUgYnkgdGhlIElERQojCmNlcnQtYXV0aG9yaXR5IHNzaC1yc2EgQUFBQUIzTnphQzF5YzJFQUFBQURBUUFCQUFBQ0FRQ3V4bG9KOWFmcjRYajV4My9GMFlzKzNvUDNqYSsrR251aFVlL2c0THFrOEd1WUVCbU5TL01GREpwQjUySUxoWG0yOGlKMXVpOVpuTElYaGN0ZG9tUEFRNVF3S3AzVmpKemc4TFg4Tk1xTXBIS3FFeXRqQUdXUXlRV003Wk1TSU5IdzV5TVU5c0FVNi80bWk0YUk0dEhRQnptWkV5bU9PWjZRNmJRV0N0Z3NyR3NiQ2tDNzJ0V3RvTHArVmFqUTVPQ1o1WU9HVmcrUEdyTE5KTGVFOFBxQjVKb0NCVXJKUHMyNmIvMGYvL3pQYy9ZVWR2aGUzRk1IVU9QcWxHS1EvbU5YdzV1TE1jK3lHUkRuSHNueWF1WDBqYmhJQTJqZSsrUWJMeHF5VG4xWnUzNjRjcUlJeWRRSk5Vd2cvSUVoSXhiMkdNMDlENHlmTGc5dWE5QWR3MzdzSVpobEpTampIajZXcERqMlkvZjNlSnZVcTNkeXlwSDFKeDI5THNSUkNxNWVyOVJyWUpPeWRnTG5RMkVQU1pVZjVoRVVTZzhnejFuK2VIM29Qb0hJa3hrM3Z1bjRHWHMrUGR0MFk5R3dGbzJKaU5CZHk3d1JsQUE2MHdOU01NV1BuZThlQ1doeU1abXNqMkhCc0JTaU1HanlEeVFWY0c4Um1iamNIaHgzQk4vOGwwMXBwV1lMWUd5SUpMeHVLaWhPZlQ0U2hXY1F5TkxYZ1dQSmJSTGJxdFV3eGlaZm9TNDY4UFliNHZhWkNWR1lXczBmWld1WmtoOHkrRVpGL3Y4R2hSUHJIZFpuZ2w2ZTJsaFFSK1F3UU9ZS2hMYnYrTmJPM1JmUDJjVUp4VFZUM1k0RThQL2gwWTF2YWoxNHpGRFdXbDR6TjlzVVlJYXVLTTFkMUlhZFFRPT0gYTU2YzY4M2Q3ZjdiNGIwNThiZmQxYmZhYjc4ZjY1ODlAY2xvdWQ5LmFtYXpvbi5jb20KCgojCiMgQWRkIGFueSBhZGRpdGlvbmFsIGtleXMgYmVsb3cgdGhpcyBsaW5lCiMKCkVPRgoKIyBhbGxvdyBhdXRvbWF0aWMgc2h1dGRvd24KZWNobyAiJFVOSVhfVVNFUiAgICBBTEw9KEFMTCkgTk9QQVNTV0Q6IC9zYmluL3Bvd2Vyb2ZmLCAvc2Jpbi9yZWJvb3QsIC9zYmluL3NodXRkb3duIiA+PiAvZXRjL3N1ZG9lcnMKCmxuIC1zIC9vcHQvYzkgIiRVTklYX1VTRVJfSE9NRSIvLmM5CmNob3duIC1SICIkVU5JWF9VU0VSIjoiJFVOSVhfR1JPVVAiICIkVU5JWF9VU0VSX0hPTUUiLy5jOSAvb3B0L2M5Cmluc3RhbGwgLWcgIiRVTklYX0dST1VQIiAtbyAiJFVOSVhfVVNFUiIgLW0gNzU1IC1kICIkRU5WSVJPTk1FTlRfUEFUSCIKCmlmIFsgIiRFTlZJUk9OTUVOVF9QQVRIIiA9PSAiL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiIF0gJiYgZ3JlcCAiYWxpYXMgcHl0aG9uPXB5dGhvbjI3IiAiJFVOSVhfVVNFUl9IT01FIi8uYmFzaHJjOyB0aGVuCgogICAgY2F0IDw8J0VPRicgPiAiJFVOSVhfVVNFUl9IT01FIi8uYmFzaHJjCiMgLmJhc2hyYwoKZXhwb3J0IFBBVEg9JFBBVEg6JEhPTUUvLmxvY2FsL2JpbjokSE9NRS9iaW4KCiMgbG9hZCBudm0KZXhwb3J0IE5WTV9ESVI9IiRIT01FLy5udm0iClsgIiRCQVNIX1ZFUlNJT04iIF0gJiYgbnBtKCkgewogICAgIyBoYWNrOiBhdm9pZCBzbG93IG5wbSBzYW5pdHkgY2hlY2sgaW4gbnZtCiAgICBpZiBbICIkKiIgPT0gImNvbmZpZyBnZXQgcHJlZml4IiBdOyB0aGVuIHdoaWNoIG5vZGUgfCBzZWQgInMvYmluXC9ub2RlLy8iOwogICAgZWxzZSAkKHdoaWNoIG5wbSkgIiRAIjsgZmkKfQojIFsgLXMgIiROVk1fRElSL252bS5zaCIgXSAmJiAuICIkTlZNX0RJUi9udm0uc2giICAjIFRoaXMgbG9hZHMgbnZtCnJ2bV9zaWxlbmNlX3BhdGhfbWlzbWF0Y2hfY2hlY2tfZmxhZz0xICMgcHJldmVudCBydm0gY29tcGxhaW50cyB0aGF0IG52bSBpcyBmaXJzdCBpbiBQQVRICnVuc2V0IG5wbSAjIGVuZCBoYWNrCgoKIyBVc2VyIHNwZWNpZmljIGFsaWFzZXMgYW5kIGZ1bmN0aW9ucwphbGlhcyBweXRob249cHl0aG9uMjcKCiMgbW9kaWZpY2F0aW9ucyBuZWVkZWQgb25seSBpbiBpbnRlcmFjdGl2ZSBtb2RlCmlmIFsgIiRQUzEiICE9ICIiIF07IHRoZW4KICAgICMgU2V0IGRlZmF1bHQgZWRpdG9yIGZvciBnaXQKICAgIGdpdCBjb25maWcgLS1nbG9iYWwgY29yZS5lZGl0b3IgL3Vzci9iaW4vbmFubwoKICAgICMgVHVybiBvbiBjaGVja3dpbnNpemUKICAgIHNob3B0IC1zIGNoZWNrd2luc2l6ZQoKICAgICMga2VlcCBtb3JlIGhpc3RvcnkKICAgIHNob3B0IC1zIGhpc3RhcHBlbmQKICAgIGV4cG9ydCBISVNUU0laRT0xMDAwMDAKICAgIGV4cG9ydCBISVNURklMRVNJWkU9MTAwMDAwCiAgICBleHBvcnQgUFJPTVBUX0NPTU1BTkQ9Imhpc3RvcnkgLWE7IgoKICAgICMgU291cmNlIGZvciBHaXQgUFMxIGZ1bmN0aW9uCiAgICBpZiAhIHR5cGUgLXQgX19naXRfcHMxICYmIFsgLWUgIi91c3Ivc2hhcmUvZ2l0LWNvcmUvY29udHJpYi9jb21wbGV0aW9uL2dpdC1wcm9tcHQuc2giIF07IHRoZW4KICAgICAgICAuIC91c3Ivc2hhcmUvZ2l0LWNvcmUvY29udHJpYi9jb21wbGV0aW9uL2dpdC1wcm9tcHQuc2gKICAgIGZpCgogICAgIyBDbG91ZDkgZGVmYXVsdCBwcm9tcHQKICAgIF9jbG91ZDlfcHJvbXB0X3VzZXIoKSB7CiAgICAgICAgaWYgWyAiJEM5X1VTRVIiID0gcm9vdCBdOyB0aGVuCiAgICAgICAgICAgIGVjaG8gIiRVU0VSIgogICAgICAgIGVsc2UKICAgICAgICAgICAgZWNobyAiJEM5X1VTRVIiCiAgICAgICAgZmkKICAgIH0KCiAgICBQUzE9J1xbXDAzM1swMTszMm1cXSQoX2Nsb3VkOV9wcm9tcHRfdXNlcilcW1wwMzNbMDBtXF06XFtcMDMzWzAxOzM0bVxdXHdcW1wwMzNbMDBtXF0kKF9fZ2l0X3BzMSAiICglcykiIDI+L2Rldi9udWxsKSAkICcKZmkKCkVPRgoKICAgIGNob3duICIkVU5JWF9VU0VSIjoiJFVOSVhfR1JPVVAiICIkVU5JWF9VU0VSX0hPTUUiLy5iYXNocmMKZmkKCmlmIFsgIiRFTlZJUk9OTUVOVF9QQVRIIiA9PSAiL2hvbWUvZWMyLXVzZXIvZW52aXJvbm1lbnQiIF0gJiYgWyAhIC1mICIkRU5WSVJPTk1FTlRfUEFUSCIvUkVBRE1FLm1kIF07IHRoZW4KICAgIGNhdCA8PCdFT0YnID4+ICIkRU5WSVJPTk1FTlRfUEFUSCIvUkVBRE1FLm1kCiAgICAgICAgIF9fXyAgICAgICAgX19fX19fICAgICBfX19fIF8gICAgICAgICAgICAgICAgIF8gIF9fXwogICAgICAgIC8gXCBcICAgICAgLyAvIF9fX3wgICAvIF9fX3wgfCBfX18gIF8gICBfICBfX3wgfC8gXyBcCiAgICAgICAvIF8gXCBcIC9cIC8gL1xfX18gXCAgfCB8ICAgfCB8LyBfIFx8IHwgfCB8LyBfYCB8IChfKSB8CiAgICAgIC8gX19fIFwgViAgViAvICBfX18pIHwgfCB8X19ffCB8IChfKSB8IHxffCB8IChffCB8XF9fLCB8CiAgICAgL18vICAgXF9cXy9cXy8gIHxfX19fLyAgIFxfX19ffF98XF9fXy8gXF9fLF98XF9fLF98ICAvXy8KIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCgoKSGkgdGhlcmUhIFdlbGNvbWUgdG8gQVdTIENsb3VkOSEKClRvIGdldCBzdGFydGVkLCBjcmVhdGUgc29tZSBmaWxlcywgcGxheSB3aXRoIHRoZSB0ZXJtaW5hbCwKb3IgdmlzaXQgaHR0cHM6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2NvbnNvbGUvY2xvdWQ5LyBmb3Igb3VyIGRvY3VtZW50YXRpb24uCgpIYXBweSBjb2RpbmchCgpFT0YKCiAgICBjaG93biAiJFVOSVhfVVNFUiI6IiRVTklYX0dST1VQIiAiJFVOSVhfVVNFUl9IT01FIi9lbnZpcm9ubWVudC9SRUFETUUubWQKZmkKCiMgRml4IGZvciBwZXJtaXNzaW9uIGVycm9yIHdoZW4gdHJ5aW5nIHRvIGNhbGwgYGdlbSBpbnN0YWxsYApjaG93biAiJFVOSVhfVVNFUiIgLVIgL3Vzci9sb2NhbC9ydm0vZ2VtcwoKI1RoaXMgc2NyaXB0IGlzIGFwcGVuZGVkIHRvIGFub3RoZXIgYmFzaCBzY3JpcHQsIHNvIGl0IGRvZXMgbm90IG5lZWQgYSBiYXNoIHNjcmlwdCBmaWxlIGhlYWRlci4KClVOSVhfVVNFUl9IT01FPSIvaG9tZS9lYzItdXNlciIKCkM5X0RJUj0kVU5JWF9VU0VSX0hPTUUvLmM5CkNPTkZJR19GSUxFX1BBVEg9IiRDOV9ESVIiL2F1dG9zaHV0ZG93bi1jb25maWd1cmF0aW9uClZGU19DSEVDS19GSUxFX1BBVEg9IiRDOV9ESVIiL3N0b3AtaWYtaW5hY3RpdmUuc2gKCmVjaG8gIlNIVVRET1dOX1RJTUVPVVQ9MzAiID4gIiRDT05GSUdfRklMRV9QQVRIIgpjaG1vZCBhK3cgIiRDT05GSUdfRklMRV9QQVRIIgoKZWNobyAtZSAnIyEvYmluL2Jhc2gKc2V0IC1ldW8gcGlwZWZhaWwKQ09ORklHPSQoY2F0ICckQ09ORklHX0ZJTEVfUEFUSCcpClNIVVRET1dOX1RJTUVPVVQ9JHtDT05GSUcjKj19CmlmICEgW1sgJFNIVVRET1dOX1RJTUVPVVQgPX4gXlswLTldKiQgXV07IHRoZW4KICAgIGVjaG8gInNodXRkb3duIHRpbWVvdXQgaXMgaW52YWxpZCIKICAgIGV4aXQgMQpmaQppc19zaHV0dGluZ19kb3duKCkgewogICAgaXNfc2h1dHRpbmdfZG93bl91YnVudHUgJj4gL2Rldi9udWxsIHx8IGlzX3NodXR0aW5nX2Rvd25fYWwxICY+IC9kZXYvbnVsbCB8fCBpc19zaHV0dGluZ19kb3duX2FsMiAmPiAvZGV2L251bGwKfQppc19zaHV0dGluZ19kb3duX3VidW50dSgpIHsKICAgIGxvY2FsIFRJTUVPVVQKICAgIFRJTUVPVVQ9JChidXNjdGwgZ2V0LXByb3BlcnR5IG9yZy5mcmVlZGVza3RvcC5sb2dpbjEgL29yZy9mcmVlZGVza3RvcC9sb2dpbjEgb3JnLmZyZWVkZXNrdG9wLmxvZ2luMS5NYW5hZ2VyIFNjaGVkdWxlZFNodXRkb3duKQogICAgaWYgWyAiJD8iIC1uZSAiMCIgXTsgdGhlbgogICAgICAgIHJldHVybiAxCiAgICBmaQogICAgaWYgWyAiJChlY2hvICRUSU1FT1VUIHwgYXdrICJ7cHJpbnQgXCQzfSIpIiA9PSAiMCIgXTsgdGhlbgogICAgICAgIHJldHVybiAxCiAgICBlbHNlCiAgICAgICAgcmV0dXJuIDAKICAgIGZpCn0KaXNfc2h1dHRpbmdfZG93bl9hbDEoKSB7CiAgICBwZ3JlcCBzaHV0ZG93bgp9CmlzX3NodXR0aW5nX2Rvd25fYWwyKCkgewogICAgbG9jYWwgRklMRQogICAgRklMRT0vcnVuL3N5c3RlbWQvc2h1dGRvd24vc2NoZWR1bGVkCiAgICBpZiBbWyAtZiAiJEZJTEUiIF1dOyB0aGVuCiAgICAgICAgcmV0dXJuIDAKICAgIGVsc2UKICAgICAgICByZXR1cm4gMQogICAgZmkKfQppc192ZnNfY29ubmVjdGVkKCkgewogICAgcGdyZXAgdmZzLXdvcmtlciA+L2Rldi9udWxsCn0KCmlmIGlzX3NodXR0aW5nX2Rvd247IHRoZW4KICAgIGlmIGlzX3Zmc19jb25uZWN0ZWQ7IHRoZW4KICAgICAgICBzdWRvIHNodXRkb3duIC1jCiAgICBmaQplbHNlCiAgICBpZiAhIGlzX3Zmc19jb25uZWN0ZWQ7IHRoZW4KICAgICAgICBzdWRvIHNodXRkb3duIC1oICRTSFVURE9XTl9USU1FT1VUCiAgICBmaQpmaScgPiAiJFZGU19DSEVDS19GSUxFX1BBVEgiCgpjaG1vZCAreCAiJFZGU19DSEVDS19GSUxFX1BBVEgiCgplY2hvICIqICogKiAqICogcm9vdCAkVkZTX0NIRUNLX0ZJTEVfUEFUSCIgPiAvZXRjL2Nyb24uZC9jOS1hdXRvbWF0aWMtc2h1dGRvd24K",
        "Tags": [
          {
            "Key": "Name",
            "Value": "aws-cloud9-KiraApp-a56c683d7f7b4b058bfd1bfab78f6589"
          }
        ],
        "NetworkInterfaces": [
          {
            "AssociatePublicIpAddress": true,
            "DeviceIndex": 0,
            "SubnetId": "subnet-0680640f9c6a43699",
            "GroupSet": [{"Ref": "InstanceSecurityGroup"}]
          }
        ]
      }
    },
    "InstanceSecurityGroup": {
      "Type": "AWS::EC2::SecurityGroup",
      "Properties": {
        "GroupDescription": "Security group for AWS Cloud9 environment aws-cloud9-KiraApp-a56c683d7f7b4b058bfd1bfab78f6589",
        "VpcId": "vpc-01fb5edace432380c"
,        "SecurityGroupIngress": [
          {
            "FromPort": 22,
            "ToPort": 22,
            "IpProtocol": "tcp",
            "CidrIp": "35.172.155.192/27"
          },
          {
            "FromPort": 22,
            "ToPort": 22,
            "IpProtocol": "tcp",
            "CidrIp": "35.172.155.96/27"
          }
        ]
        ,"Tags": [
          {
            "Key": "Name",
            "Value": "aws-cloud9-KiraApp-a56c683d7f7b4b058bfd1bfab78f6589"
          }
        ]
      }
    }
  }
}